# Manual API Test Commands using cURL
#
# Note: Replace placeholders like <BEARER_TOKEN>, <API_KEY>, <REFERENCE>, etc.,
# with actual values obtained during testing.

# --- Authentication ---

# 1. Get Google Auth URL
curl -X GET "http://localhost:8000/auth/google"

# After authenticating via browser and getting a token...

# --- Wallet (Authenticated with JWT) ---

# Get wallet balance
curl -X GET "http://localhost:8000/wallet/balance" \
     -H "Authorization: Bearer <BEARER_TOKEN>"

# Get transaction history
curl -X GET "http://localhost:8000/wallet/transactions" \
     -H "Authorization: Bearer <BEARER_TOKEN>"

# Initiate a deposit of 5000 kobo (50 NGN)
curl -X POST "http://localhost:8000/wallet/deposit" \
     -H "Authorization: Bearer <BEARER_TOKEN>" \
     -H "Content-Type: application/json" \
     -d '{"amount": 5000}'

# Check deposit status (replace <REFERENCE> with one from the deposit response)
curl -X GET "http://localhost:8000/wallet/deposit/<REFERENCE>/status" \
     -H "Authorization: Bearer <BEARER_TOKEN>"

# Transfer 1000 kobo (10 NGN) to another wallet (replace <WALLET_NUMBER>)
curl -X POST "http://localhost:8000/wallet/transfer" \
     -H "Authorization: Bearer <BEARER_TOKEN>" \
     -H "Content-Type: application/json" \
     -d '{"recipient_wallet_number": "<WALLET_NUMBER>", "amount": 1000}'


# --- API Key Management (Authenticated with JWT) ---

# Create a new API key
curl -X POST "http://localhost:8000/keys/create" \
     -H "Authorization: Bearer <BEARER_TOKEN>" \
     -H "Content-Type: application/json" \
     -d '{"name": "MyReadonlyKey", "permissions": ["read"], "expiry": "1M"}'

# List all API keys
curl -X GET "http://localhost:8000/keys" \
     -H "Authorization: Bearer <BEARER_TOKEN>"

# Revoke an API key (replace <KEY_ID>)
curl -X DELETE "http://localhost:8000/keys/<KEY_ID>" \
     -H "Authorization: Bearer <BEARER_TOKEN>"


# --- Wallet (Authenticated with API Key) ---

# Get wallet balance using an API key with 'read' permission
curl -X GET "http://localhost:8000/wallet/balance" \
     -H "x-api-key: <API_KEY>"

# Initiate a deposit using an API key with 'deposit' permission
curl -X POST "http://localhost:8000/wallet/deposit" \
     -H "x-api-key: <API_KEY>" \
     -H "Content-Type: application/json" \
     -d '{"amount": 2500}'